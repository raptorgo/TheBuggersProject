<div fxLayout="column" fxFlex [class.dark-theme]="isDarkTheme" [class.candy-theme]="isCandyTheme">
  <!--<mat-toolbar color="primary">-->

    <mat-toolbar-row [ngClass]="themeColor">
      <button mat-icon-button (click)="sidenav.toggle()">
        <!--fxHide="false" fxHide.gt-sm-->
        <mat-icon>menu</mat-icon>
      </button>
      <span routerLink="./" style="outline: none; cursor: pointer">Nome Azienda</span>
      <!-- Filler that pushes the menu button to the end of the toolbar -->
      <span fxFlex style="text-align: center">
        <div id="desktopSettings" class="button-row" *ngIf="isCostumazies">
          <!--(click)="setColor('blue')"-->
          <button mat-mini-fab (click)="setColor('red')" style="background-color: red"
                  [disabled]="isDarkTheme"></button>
          <button mat-mini-fab (click)="isCandyTheme = !isCandyTheme" style="background-color: blue"
                  [disabled]="isDarkTheme"></button>
          <button mat-mini-fab (click)="setColor('yellow')" style="background-color: yellow"
                  [disabled]="isDarkTheme"></button>
          <button mat-mini-fab (click)="setColor('green')" style="background-color: green"
                  [disabled]="isDarkTheme"></button>
          <button mat-mini-fab (click)="isDarkTheme = !isDarkTheme" (click)="setColor('dark')" class="darkBtn">
            <i *ngIf="!isDarkTheme" class="material-icons">brightness_2</i>
            <i *ngIf="isDarkTheme" class="material-icons">wb_sunny</i>
          </button>
          <button mat-button (click)="toggle()"><i class="material-icons">close</i></button>
        </div>
      </span>
      <button mat-mini-fab color="primary" [matMenuTriggerFor]="profileMenu" id="buttonProfile">
        <i class="material-icons">settings</i>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-sidenav-container fxFlex (swipeleft)="sidenav.close()" (swiperight)="sidenav.open()">

    <!--<mat-sidenav id="sidenav" mode="side" #sidenav opened (swipeleft)="sidenav.close()" (swiperight)="sidenav.open()">-->

      <div id="mobileSettings" class="button-row" *ngIf="isCostumazies">
        <!--(click)="setColor('blue')"-->
        <button mat-mini-fab (click)="setColor('red')" style="background-color: red" [disabled]="isDarkTheme"></button>
        <button mat-mini-fab (click)="isCandyTheme = !isCandyTheme" style="background-color: blue"
                [disabled]="isDarkTheme"></button>
        <button mat-mini-fab (click)="setColor('yellow')" style="background-color: yellow"
                [disabled]="isDarkTheme"></button>
        <button mat-mini-fab (click)="setColor('green')" style="background-color: green"
                [disabled]="isDarkTheme"></button>
        <button mat-mini-fab (click)="isDarkTheme = !isDarkTheme" (click)="setColor('dark')" class="darkBtn">
          <i *ngIf="!isDarkTheme" class="material-icons">brightness_2</i>
          <i *ngIf="isDarkTheme" class="material-icons">wb_sunny</i>
        </button>
        <!--<button mat-mini-fab (click)="toggle()"><i class="material-icons">close</i></button>-->
        <span fxFlex></span>
        <div style="margin-top: 2.5%; font-size: 30px !important;">
          <i class="material-icons" (click)="toggle()">close</i>
        </div>
      </div>

      <mat-card>
        <div>
          <h2>Benvenuto Luca!</h2>
          <span fxFlex="40%;"></span>
          <button mat-mini-fab color="primary" [matMenuTriggerFor]="profileMenu" id="buttonProfileMobile">
            <i class="material-icons">settings</i>
          </button>
        </div>
      </mat-card>
      <mat-nav-list style="height: 100%">
        <!--<mat-list style="padding-top: 4%; padding-bottom: 4%;">-->
          <mat-accordion>
            <mat-expansion-panel #expe (click)="top()" (click)="expe.close()" [expanded]="false" [hideToggle]="true">
              <mat-expansion-panel-header class="listItem">
                <mat-panel-title>
                  <!--{{users[0].name }}-->
                  ciao
                </mat-panel-title>
              </mat-expansion-panel-header>
              <!--<mat-form-field>-->
                <!--<input matInput placeholder="First name">-->
              <!--</mat-form-field>-->
            </mat-expansion-panel>
            <div *ngFor="let user of users">
              <mat-expansion-panel class="listItem">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{user.name}}
                  </mat-panel-title>
                </mat-expansion-panel-header>

                <mat-form-field>
                  <input matInput placeholder="First name">
                </mat-form-field>
              </mat-expansion-panel>
            </div>
          </mat-accordion>
          <!--<mat-list-item class="listItem">Item 1</mat-list-item>-->
          <!--<mat-divider></mat-divider>-->
          <!--<mat-list-item class="listItem">Item 2</mat-list-item>-->
          <!--<mat-divider></mat-divider>-->
          <!--<mat-list-item class="listItem">Item 3</mat-list-item>-->
        <!--</mat-list>-->

        <mat-card>
          <div>
            <h5>© 2018, The Bugger</h5>
          </div>
        </mat-card>
      </mat-nav-list>
    </mat-sidenav>
    <div fxLayout="column" (swipeleft)="sidenav.close()" (swiperight)="sidenav.open()">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-container>


  <!--Footerrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr-->

  <!--<footer>-->
  <!--<mat-toolbar color='primary'>-->
  <!--<mat-toolbar-row [ngClass]="themeColor">-->
  <!--<span></span>-->
  <!--<h3>© Copyright</h3>-->
  <!--<span fxFlex></span>-->

  <!--<button mat-icon-button [matMenuTriggerFor]="themeMenu">-->
  <!--<mat-icon>more_vert</mat-icon>-->
  <!--</button>-->

  <!--<mat-menu #themeMenu x-position="before">-->
  <!--<button mat-menu-item (click)="isDarkTheme = !isDarkTheme">Toggle Theme</button>-->
  <!--</mat-menu>-->
  <!--</mat-toolbar-row>-->
  <!--</mat-toolbar>-->
  <!--</footer>-->
  <div>
    <mat-menu #profileMenu="matMenu" id="ic" yPosition="above" [overlapTrigger]="false">
      <hr>
      <button mat-menu-item (click)="toggle()">Personalizza</button>
      <button mat-menu-item routerLink="/triggers">Triggers</button>
      <button mat-menu-item routerLink="/dashboard/modifica-profilo" (click)="sidenav.close()">Modifica Profilo</button>
      <button mat-menu-item>Esci</button>
    </mat-menu>
  </div>
<!--</div>-->
<app-home></app-home>
